var p=(o,i,n)=>new Promise((r,s)=>{var l=e=>{try{t(n.next(e))}catch(a){s(a)}},m=e=>{try{t(n.throw(e))}catch(a){s(a)}},t=e=>e.done?r(e.value):Promise.resolve(e.value).then(l,m);t((n=n.apply(o,i)).next())});import{d as v,$ as k,r as h,a0 as g,a1 as x,v as y,b as _,A as d,O as N,P as V,M as c,D as S,ai as E}from"./index-2f00049f.js";import"./index-d01ffe12.js";import{F}from"./index-b878ca4c.js";import{_ as I}from"./NavBar.vue_vue_type_script_setup_true_lang-ec43c9a4.js";import{F as C}from"./index-34f9a8fe.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-7b17285f.js";import"./Icon-293a71c6.js";const $=o=>(N("data-v-c86efa2c"),o=o(),V(),o),w=$(()=>c("div",{class:"note px-30px"},[c("p",null,"昵称支持2-12个中文字符或3-24个英文字符，"),c("p",null,"符号仅支持”-“和”_“和”.“以及“·”")],-1)),A=v({__name:"EditNickname",setup(o){const i=k(),{nickname:n}=i.getUserInfo,r=h(),s=g({nickname:""}),l=()=>t=>p(this,null,function*(){return/^[\u4E00-\u9FA5A-Za-z0-9-_.·]+$/.test(t)?t.length<2||t.length>12?Promise.resolve("长度不符合"):Promise.resolve(!0):Promise.resolve("请输入正确内容")});function m(){var t;(t=r.value)==null||t.validate().then(()=>p(this,null,function*(){var e;try{const a=(e=r.value)==null?void 0:e.getValues();E({message:`当前表单值：${JSON.stringify(a)}`})}finally{}})).catch(()=>{console.error("验证失败")})}return x(()=>{s.nickname=n}),(t,e)=>{const a=F,u=C;return S(),y("div",null,[_(I,null,{right:d(()=>[c("span",{class:"text-32px",onClick:m},"保存")]),_:1}),_(u,{ref_key:"formRef",ref:r},{default:d(()=>[_(a,{class:"mt-20px",name:"nickname",modelValue:s.nickname,"onUpdate:modelValue":e[0]||(e[0]=f=>s.nickname=f),placeholder:"请输入昵称（2-12字）",rules:[{validator:l(),trigger:"onChange"}]},null,8,["modelValue","rules"])]),_:1},512),w])}}});const T=P(A,[["__scopeId","data-v-c86efa2c"]]);export{T as default};
