import{k as P,l as i,m as C,o as w,n as y,q as x,C as j,a as k,r as h,s as D,f as b,b as p,v as _,w as d,c as N,x as A,F as I,g as z,h as B,y as E,t as F}from"./index-84de147d.js";var V=typeof window>"u";function q(e,n){if(!V&&!(!document||!e||typeof e!="string")&&!(document.querySelectorAll(".".concat(n,'[src="').concat(e,'"]')).length>0)){var t=document.createElement("script");t.setAttribute("class",n),t.setAttribute("src",e),document.body.appendChild(t)}}var L={name:{type:String,default:""},size:{type:String,default:void 0},url:{type:[String,Array],default:void 0},loadDefaultIcons:{type:Boolean,default:!0},onClick:Function};function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?O(Object(t),!0).forEach(function(a){x(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var{classPrefix:g}=j,T="https://tdesign.gtimg.com/icon/0.1.3/fonts/index.js",U=P({name:"Icon",props:L,setup(e,n){var{attrs:t}=n,a=i(()=>e.size),r=i(()=>e.name||""),{className:v,style:s}=C(a),c=i(()=>{var o=[];return o=e.url instanceof Array?e.url.concat():[e.url],e.loadDefaultIcons&&o.push(T),o}),u=i(()=>["".concat(g,"-icon"),"".concat(g,"-icon-").concat(r.value),v.value]),m=i(()=>S(S({},s.value),t.style));w(()=>{Array.from(new Set(c.value)).forEach(o=>{q(o,"".concat(g,"-svg-js-stylesheet--unique-class"))})});var l=i(()=>({class:u.value,style:m.value,onClick:o=>{var f;return(f=e.onClick)===null||f===void 0?void 0:f.call(e,{e:o})}}));return()=>y("svg",l.value,y("use",{href:e.url?"#".concat(r.value):"#t-icon-".concat(r.value)}))}}),R=U;const M={__name:"tab-bar",props:["currentSelectPage"],setup(e){const n=e,t=k();console.log("currentSelectPage: ",n.currentSelectPage);const a=h([{name:"home",text:"首页",icon:"home",path:"/home"},{name:"common",text:"常用",icon:"app",path:"/common"},{name:"mine",text:"我的",icon:"user",path:"/mine"}]),r=h(n.currentSelectPage);D(()=>r.value,(s,c)=>{console.log("当前值改变为：",s,", 旧值为：",c)},{immediate:!0});const v=s=>{console.log("TabBar 值改变为：",s,", value.value: ",r.value);const c=m=>m.name===s,u=a.value.find(c).path;console.log("path: ",u),t.push({path:u})};return(s,c)=>{const u=b("t-tab-bar-item"),m=b("t-tab-bar");return p(),_(m,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=l=>r.value=l),onChange:v},{default:d(()=>[(p(!0),N(I,null,A(a.value,(l,o)=>(p(),_(u,{key:l.name||o,value:l.name},{icon:d(()=>[z(B(R),{name:l.icon},null,8,["name"])]),default:d(()=>[E(F(l.text)+" ",1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])}}};export{M as _};
